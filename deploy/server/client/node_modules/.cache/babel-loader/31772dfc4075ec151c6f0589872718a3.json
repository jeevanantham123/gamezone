{"ast":null,"code":"import _regeneratorRuntime from\"/home/system1/Documents/React/deploy/server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _createForOfIteratorHelper from\"/home/system1/Documents/React/deploy/server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _asyncToGenerator from\"/home/system1/Documents/React/deploy/server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/system1/Documents/React/deploy/server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/system1/Documents/React/deploy/server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/system1/Documents/React/deploy/server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/system1/Documents/React/deploy/server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/system1/Documents/React/deploy/server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import'../css/userhome.css';import gaming from'../images/beautyPuzzle.gif';//import comingsoon from '../images/comingsoon.gif';\nimport{Button}from'react-bootstrap';import{FaForward,FaPlayCircle,FaBackward}from'react-icons/fa';import history from'../history';import BeatLoader from\"react-spinners/ClipLoader\";import Countdown from'react-countdown';var UserHome=/*#__PURE__*/function(_Component){_inherits(UserHome,_Component);var _super=_createSuper(UserHome);function UserHome(props){var _this;_classCallCheck(this,UserHome);_this=_super.call(this,props);window.localStorage.setItem(\"User Action\",true);_this.state={ComingSoonGames:[],OnGoingGames:[],FinishedGames:[],isLoaded:false};_this.handleStartGame=_this.handleStartGame.bind(_assertThisInitialized(_this));return _this;}_createClass(UserHome,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var now=new Date();var sendGetRequest=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('api/game/',{withCredentials:true}).then(function(res){if(res.data.games){var _iterator=_createForOfIteratorHelper(res.data.games),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var iterator=_step.value;iterator.startTime=new Date(iterator.startTime);iterator.endTime=new Date(iterator.endTime);if(iterator.startTime>now){_this2.state.ComingSoonGames.push(iterator);}else if(iterator.endTime<now){_this2.state.FinishedGames.push(iterator);}else{_this2.state.OnGoingGames.push(iterator);}}}catch(err){_iterator.e(err);}finally{_iterator.f();}_this2.setState({isLoaded:true});}window.localStorage.setItem('sessionID',res.data.sessionID);});case 3:_context.next=8;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 8:case\"end\":return _context.stop();}}},_callee,null,[[0,5]]);}));return function sendGetRequest(){return _ref.apply(this,arguments);};}();sendGetRequest();}},{key:\"handleStartGame\",value:function handleStartGame(id){var game=this.state.OnGoingGames.filter(function(g){return g._id===id;});history.push({pathname:'/startgame',state:{game:game}});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"user-home\"},/*#__PURE__*/React.createElement(Banner,null),/*#__PURE__*/React.createElement(\"div\",{className:\"games-screen\"},/*#__PURE__*/React.createElement(\"b\",null,\"Coming Soon\\xA0\",/*#__PURE__*/React.createElement(FaForward,null)),this.state.isLoaded?/*#__PURE__*/React.createElement(ComingSoon,{games:this.state.ComingSoonGames}):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(BeatLoader,{size:50,color:\"white\",loading:!this.state.isLoaded})),/*#__PURE__*/React.createElement(\"b\",null,\"On Going Now\\xA0\",/*#__PURE__*/React.createElement(FaPlayCircle,null)),this.state.isLoaded?/*#__PURE__*/React.createElement(OnGoing,{games:this.state.OnGoingGames,handleStartGame:this.handleStartGame}):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(BeatLoader,{size:50,color:\"white\",loading:!this.state.isLoaded})),/*#__PURE__*/React.createElement(\"b\",null,\"Past Games\\xA0\",/*#__PURE__*/React.createElement(FaBackward,null)),this.state.isLoaded?/*#__PURE__*/React.createElement(PastGames,{games:this.state.FinishedGames}):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(BeatLoader,{size:50,color:\"white\",loading:!this.state.isLoaded}))));}}]);return UserHome;}(Component);export{UserHome as default};export function ComingSoon(props){var games=props.games;var gamesList=[];games.forEach(function(game){gamesList.push(/*#__PURE__*/React.createElement(\"div\",{key:game._id,className:\"inside-element\"},/*#__PURE__*/React.createElement(\"h6\",null,game.gameName),/*#__PURE__*/React.createElement(\"img\",{src:game.gameImage,alt:\"not Available!\"}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"timer\"},\"Starts in: \\xA0\",/*#__PURE__*/React.createElement(Countdown,{date:game.startTime,renderer:function renderer(props){return/*#__PURE__*/React.createElement(\"span\",null,props.days,\"d \",props.hours,\"h \",props.minutes,\"m \",props.seconds,\"s\");}}))));});return/*#__PURE__*/React.createElement(\"div\",{className:\"coming-soon\"},gamesList);}export function OnGoing(props){var games=props.games;var gamesList=[];games.forEach(function(game){gamesList.push(/*#__PURE__*/React.createElement(\"div\",{key:game._id,className:\"inside-element\"},/*#__PURE__*/React.createElement(\"h6\",null,game.gameName),/*#__PURE__*/React.createElement(\"img\",{src:game.gameImage,alt:\"not Available!\"}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Button,{className:\"bg-success\",type:\"button\",onClick:function onClick(){return props.handleStartGame(game._id);}},\"Play Now\")));});return/*#__PURE__*/React.createElement(\"div\",{className:\"on-going\"},gamesList);}export function PastGames(props){var games=props.games;var gamesList=[];games.forEach(function(game){gamesList.push(/*#__PURE__*/React.createElement(\"div\",{key:game._id,className:\"inside-element\"},/*#__PURE__*/React.createElement(\"h6\",null,game.gameName),/*#__PURE__*/React.createElement(\"img\",{src:game.gameImage,alt:\"not Available!\"}),/*#__PURE__*/React.createElement(\"br\",null)));});return/*#__PURE__*/React.createElement(\"div\",{className:\"time-over\"},gamesList);}export function Banner(props){return/*#__PURE__*/React.createElement(\"div\",{className:\"banner\"},/*#__PURE__*/React.createElement(\"img\",{src:gaming,alt:\"\"}));}","map":{"version":3,"sources":["/home/system1/Documents/React/deploy/server/client/src/components/userhome.js"],"names":["React","Component","axios","gaming","Button","FaForward","FaPlayCircle","FaBackward","history","BeatLoader","Countdown","UserHome","props","window","localStorage","setItem","state","ComingSoonGames","OnGoingGames","FinishedGames","isLoaded","handleStartGame","bind","now","Date","sendGetRequest","get","withCredentials","then","res","data","games","iterator","startTime","endTime","push","setState","sessionID","console","log","id","game","filter","g","_id","pathname","ComingSoon","gamesList","forEach","gameName","gameImage","days","hours","minutes","seconds","OnGoing","PastGames","Banner"],"mappings":"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","sourcesContent":["import React, { Component} from 'react'\nimport axios from 'axios';\nimport '../css/userhome.css';\nimport gaming from '../images/beautyPuzzle.gif';\n//import comingsoon from '../images/comingsoon.gif';\nimport {Button} from 'react-bootstrap';\nimport { FaForward , FaPlayCircle, FaBackward} from 'react-icons/fa';\nimport history from '../history';\nimport BeatLoader from \"react-spinners/ClipLoader\";\nimport Countdown from 'react-countdown';\n\nexport default class UserHome extends Component {\n    constructor(props){\n        super(props);\n        window.localStorage.setItem(\"User Action\" , true);\n        this.state = {\n            ComingSoonGames : [],\n            OnGoingGames:[],\n            FinishedGames:[],\n            isLoaded: false\n        };\n        this.handleStartGame = this.handleStartGame.bind(this);\n    }\n    componentDidMount(){\n        const now = new Date();\n       \n        const sendGetRequest = async () => {\n            try{\n                await axios.get('api/game/',{\n            withCredentials:true\n        })\n        .then( res => {\n            if(res.data.games){\n                for (const iterator of res.data.games) {\n                    iterator.startTime = new Date(iterator.startTime);\n                    iterator.endTime = new Date(iterator.endTime);\n                    if(iterator.startTime > now){\n                        this.state.ComingSoonGames.push(iterator);\n                    }\n                    else if(iterator.endTime < now){\n                        this.state.FinishedGames.push(iterator);\n                    }\n                    else{\n                        this.state.OnGoingGames.push(iterator);\n                    }\n                }\n                this.setState({\n                    isLoaded : true\n                });\n            }\n            window.localStorage.setItem('sessionID' , res.data.sessionID);\n        });\n            }\n            catch(err){\n                console.log(err);\n            }\n        }  \n         sendGetRequest();    \n    }\n\n    handleStartGame(id){\n        const game = this.state.OnGoingGames.filter((g) => {\n            return g._id === id;\n    });\n    history.push({\n        pathname:'/startgame',\n        state : {game : game}\n    })\n    }\n    render() {\n        return (\n            <div className=\"user-home\">\n                <Banner/>\n                <div className=\"games-screen\">\n                    <b>Coming Soon&nbsp;<FaForward/></b>\n                        {\n                         this.state.isLoaded ?\n                        <ComingSoon games={this.state.ComingSoonGames}/>:\n                        <div>\n                            <BeatLoader\n                            size={50}\n                            color={\"white\"}\n                            loading={!this.state.isLoaded}\n                            />\n                        </div>\n                        }\n                    <b>On Going Now&nbsp;<FaPlayCircle/></b>\n                        {\n                         this.state.isLoaded ?\n                        <OnGoing games={this.state.OnGoingGames} handleStartGame = {this.handleStartGame}/>:\n                        <div>\n                            <BeatLoader\n                            size={50}\n                            color={\"white\"}\n                            loading={!this.state.isLoaded}\n                            />\n                        </div>\n                        }\n                    <b>Past Games&nbsp;<FaBackward/></b>\n                        {\n                         this.state.isLoaded ?\n                        <PastGames games={this.state.FinishedGames}/>:\n                        <div>\n                            <BeatLoader\n                            size={50}\n                            color={\"white\"}\n                            loading={!this.state.isLoaded}\n                            />\n                        </div>\n                        }\n                    \n                </div>\n            </div>\n        )\n    }\n}\n\nexport function ComingSoon(props){\n    const games = props.games;\n    const gamesList = [];\n    games.forEach(game => {\n        gamesList.push( \n        <div key={game._id} className=\"inside-element\">\n            <h6>{game.gameName}</h6>\n            <img src={game.gameImage} alt=\"not Available!\"/>\n            <br/>\n                    <div className=\"timer\">\n                        Starts in:\n                        &nbsp;\n                        <Countdown\n                        date={game.startTime}\n                        renderer = {(props)=> <span >{props.days}d {props.hours}h {props.minutes}m {props.seconds}s</span>}\n                        />\n                    </div>\n        </div>)\n    });\n    return(\n        <div className=\"coming-soon\">\n            {gamesList}\n        </div>\n    )\n}\n\nexport function OnGoing(props){\n    const games = props.games;\n    const gamesList = [];\n    games.forEach(game => {\n        gamesList.push( \n        <div key={game._id} className=\"inside-element\">\n            <h6>{game.gameName}</h6>\n            <img src={game.gameImage} alt=\"not Available!\"/>\n            <br/>\n            <Button className=\"bg-success\" type=\"button\" onClick={()=> props.handleStartGame(game._id)}>Play Now</Button>\n        </div>)\n    });\n    return(\n        <div className=\"on-going\">\n            {gamesList}\n        </div>\n    )\n}\n\nexport function PastGames(props){\n    const games = props.games;\n    const gamesList = [];\n    games.forEach(game => {\n        gamesList.push( \n        <div key={game._id} className=\"inside-element\">\n            <h6>{game.gameName}</h6>\n            <img src={game.gameImage} alt=\"not Available!\"/>\n            <br/>\n        </div>)\n    });\n    return(\n        <div className=\"time-over\">\n            {gamesList}\n        </div>\n    )\n}\n\n\nexport function Banner(props){\n    return(\n        <div className=\"banner\">\n            <img src={gaming} alt=\"\"/>\n        </div>\n    )\n}\n\n\n"]},"metadata":{},"sourceType":"module"}