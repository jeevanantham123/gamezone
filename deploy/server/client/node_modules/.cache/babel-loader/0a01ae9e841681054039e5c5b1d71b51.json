{"ast":null,"code":"import _classCallCheck from\"/home/system1/Documents/React/deploy/server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/system1/Documents/React/deploy/server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/system1/Documents/React/deploy/server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/system1/Documents/React/deploy/server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/system1/Documents/React/deploy/server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Link}from'react-router-dom';import{Button,FormGroup,FormControl,ControlLabel,HelpBlock}from\"react-bootstrap\";import'../css/login.css';import axios from'axios';import history from'../history';// import banner from '../images/banner.jpg';\nvar Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.state={email:'',password:'',err:''};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.setEmail=_this.setEmail.bind(_assertThisInitialized(_this));_this.setPassword=_this.setPassword.bind(_assertThisInitialized(_this));return _this;}_createClass(Login,[{key:\"setEmail\",value:function setEmail(value){this.setState({email:value});}},{key:\"setPassword\",value:function setPassword(value){this.setState({password:value});}},{key:\"validateForm\",value:function validateForm(){return this.state.email.length>0&&this.state.password.length>0;}},{key:\"handleSubmit\",value:function handleSubmit(e){var _this2=this;e.preventDefault();var user={\"email\":this.state.email,\"password\":this.state.password};axios.post('api/admin/login',user).then(function(res){if(res.data['status']===\"success\"){console.log(res.data);history.push({pathname:'/admin/adminPanel',state:{username:res.data['username']}});_this2.setState({err:''});}if(res.data===\"failure\")_this2.setState({err:'Invalid credientials'});}).catch(function(error){return console.log(error);});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"Login\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Login\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(HelpBlock,null,/*#__PURE__*/React.createElement(\"p\",{className:\"text-danger\"},this.state.err)),/*#__PURE__*/React.createElement(FormGroup,{controlId:\"email\",bsSize:\"large\"},/*#__PURE__*/React.createElement(ControlLabel,null,\"Email\"),/*#__PURE__*/React.createElement(FormControl,{autoFocus:true,type:\"email\",value:this.state.email,onChange:function onChange(e){return _this3.setEmail(e.target.value);}})),/*#__PURE__*/React.createElement(FormGroup,{controlId:\"password\",bsSize:\"large\"},/*#__PURE__*/React.createElement(ControlLabel,null,\"Password\"),/*#__PURE__*/React.createElement(FormControl,{value:this.state.password,onChange:function onChange(e){return _this3.setPassword(e.target.value);},type:\"password\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"signup\"},/*#__PURE__*/React.createElement(Button,{id:\"login-button\",bsSize:\"large\",disabled:!this.validateForm(),type:\"submit\"},\"Login\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Link,{to:\"/admin/signup\"},\"New user? Sign up!\"))));}}]);return Login;}(Component);export{Login as default};","map":{"version":3,"sources":["/home/system1/Documents/React/deploy/server/client/src/components/login.js"],"names":["React","Component","Link","Button","FormGroup","FormControl","ControlLabel","HelpBlock","axios","history","Login","props","state","email","password","err","handleSubmit","bind","setEmail","setPassword","value","setState","length","e","preventDefault","user","post","then","res","data","console","log","push","pathname","username","catch","error","target","validateForm"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Button, FormGroup, FormControl, ControlLabel, HelpBlock} from \"react-bootstrap\";\nimport '../css/login.css'\nimport axios from 'axios';\nimport history from '../history';\n// import banner from '../images/banner.jpg';\nexport default class Login extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            email:'',\n            password:'',\n            err:''\n        }\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.setEmail = this.setEmail.bind(this);\n        this.setPassword = this.setPassword.bind(this);\n    }\n    setEmail(value){\n        this.setState({email: value});\n    }\n    setPassword(value){\n        this.setState({password: value});\n    }\n    validateForm() {\n        return this.state.email.length > 0 && this.state.password.length > 0;\n      }\n    handleSubmit(e){\n        e.preventDefault();\n        const user = {\n            \"email\":this.state.email,\n            \"password\":this.state.password\n        }\n        axios.post('api/admin/login',user)\n        .then(res => {\n            if(res.data['status'] === \"success\"){\n                console.log(res.data);\n                history.push({\n                    pathname :'/admin/adminPanel',\n                    state:{username: res.data['username']}\n                });\n                this.setState({err:''});\n             }\n            if(res.data === \"failure\")\n             this.setState({err:'Invalid credientials'});\n        })\n        .catch(error => console.log(error));\n    }\n    render(){\n        return(\n            <div className=\"Login\">\n                <h3>Login</h3>\n                <form onSubmit={this.handleSubmit}>\n                    <HelpBlock>\n                    <p className=\"text-danger\">{this.state.err}</p>\n                    </HelpBlock>\n                    <FormGroup controlId=\"email\" bsSize=\"large\">\n                    <ControlLabel>Email</ControlLabel>\n                    <FormControl\n                        autoFocus\n                        type=\"email\"\n                        value={this.state.email}\n                        onChange={e =>this.setEmail(e.target.value)}\n                    />\n                    </FormGroup>\n                    <FormGroup controlId=\"password\" bsSize=\"large\">\n                    <ControlLabel>Password</ControlLabel>\n                    <FormControl\n                        value={this.state.password}\n                        onChange={e => this.setPassword(e.target.value)}\n                        type=\"password\"\n                    />\n                    </FormGroup>\n                   \n                    <div className=\"signup\">\n                    <Button id=\"login-button\"  bsSize=\"large\" disabled={!this.validateForm()} type=\"submit\">\n                    Login\n                    </Button><br/>\n                    <Link to=\"/admin/signup\">New user? Sign up!</Link>\n                    </div>\n                </form>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}