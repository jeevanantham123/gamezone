{"ast":null,"code":"import _classCallCheck from\"/home/system1/Documents/React/deploy/server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/system1/Documents/React/deploy/server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/system1/Documents/React/deploy/server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/system1/Documents/React/deploy/server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/system1/Documents/React/deploy/server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{Button,FormGroup,FormControl,ControlLabel,HelpBlock}from\"react-bootstrap\";// import banner from '../images/banner.jpg';\nimport{Link}from'react-router-dom';import'../css/login.css';import axios from'axios';import history from'../history';var Signup=/*#__PURE__*/function(_Component){_inherits(Signup,_Component);var _super=_createSuper(Signup);function Signup(props){var _this;_classCallCheck(this,Signup);_this=_super.call(this,props);_this.state={email:'',password:'',username:'',emailerr:'',passworderr:''};_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.setEmail=_this.setEmail.bind(_assertThisInitialized(_this));_this.setUsername=_this.setUsername.bind(_assertThisInitialized(_this));_this.setPassword=_this.setPassword.bind(_assertThisInitialized(_this));_this.finalcallfunction=_this.finalcallfunction.bind(_assertThisInitialized(_this));return _this;}_createClass(Signup,[{key:\"setEmail\",value:function setEmail(value){this.setState({email:value});}},{key:\"setPassword\",value:function setPassword(value){this.setState({password:value});}},{key:\"setUsername\",value:function setUsername(value){this.setState({username:value});}},{key:\"validateForm\",value:function validateForm(){return this.state.email.length>0&&this.state.username.length>0&&this.state.password.length>0;}},{key:\"handleSubmit\",value:function handleSubmit(e){e.preventDefault();var emailformat=/[a-z0-9]+@codingmart.com/;var passwordformat=/[a-z0-9_]{6,}/;if(emailformat.test(this.state.email)){if(passwordformat.test(this.state.password)){this.setState({emailerr:'',passworderr:''});this.finalcallfunction();}else{this.setState({password:''});this.setState({passworderr:'Password must be atleast 6 characters!'});}}else{this.setState({email:''});this.setState({emailerr:'Please enter a valid email!'});}}},{key:\"finalcallfunction\",value:function finalcallfunction(){var _this2=this;var user={\"username\":this.state.username,\"email\":this.state.email,\"password\":this.state.password};axios.post('api/admin/signup',user).then(function(res){if(res.data==='success'){history.push({pathname:'/admin/home',state:{username:_this2.state.username}});}});}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(\"div\",{className:\"Login\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Sign up\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(FormGroup,{controlId:\"username\",bsSize:\"large\"},/*#__PURE__*/React.createElement(ControlLabel,null,\"Username\"),/*#__PURE__*/React.createElement(FormControl,{autoFocus:true,type:\"text\",value:this.state.username,onChange:function onChange(e){return _this3.setUsername(e.target.value);}})),/*#__PURE__*/React.createElement(FormGroup,{controlId:\"email\",bsSize:\"large\"},/*#__PURE__*/React.createElement(ControlLabel,null,\"Email\"),/*#__PURE__*/React.createElement(FormControl,{type:\"email\",value:this.state.email,onChange:function onChange(e){return _this3.setEmail(e.target.value);}}),/*#__PURE__*/React.createElement(HelpBlock,null,/*#__PURE__*/React.createElement(\"p\",{className:\"text-danger\"},this.state.emailerr))),/*#__PURE__*/React.createElement(FormGroup,{controlId:\"password\",bsSize:\"large\"},/*#__PURE__*/React.createElement(ControlLabel,null,\"Password\"),/*#__PURE__*/React.createElement(FormControl,{value:this.state.password,onChange:function onChange(e){return _this3.setPassword(e.target.value);},type:\"password\"}),/*#__PURE__*/React.createElement(HelpBlock,null,/*#__PURE__*/React.createElement(\"p\",{className:\"text-danger\"},this.state.passworderr))),/*#__PURE__*/React.createElement(\"div\",{className:\"signup\"},/*#__PURE__*/React.createElement(Button,{id:\"login-button\",bsSize:\"small\",disabled:!this.validateForm(),type:\"submit\"},\"Sign up\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Link,{to:\"/admin\"},\"Already a user? Log in!\"))));}}]);return Signup;}(Component);export{Signup as default};","map":{"version":3,"sources":["/home/system1/Documents/React/deploy/server/client/src/components/signup.js"],"names":["React","Component","Button","FormGroup","FormControl","ControlLabel","HelpBlock","Link","axios","history","Signup","props","state","email","password","username","emailerr","passworderr","handleSubmit","bind","setEmail","setUsername","setPassword","finalcallfunction","value","setState","length","e","preventDefault","emailformat","passwordformat","test","user","post","then","res","data","push","pathname","target","validateForm"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Button, FormGroup, FormControl, ControlLabel , HelpBlock} from \"react-bootstrap\";\n// import banner from '../images/banner.jpg';\nimport { Link } from 'react-router-dom';\nimport '../css/login.css'\nimport axios from 'axios';\nimport history from '../history';\n\nexport default class Signup extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            email:'',\n            password:'',\n            username:'',\n            emailerr:'',\n            passworderr:''\n        }\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.setEmail = this.setEmail.bind(this);\n        this.setUsername = this.setUsername.bind(this);\n        this.setPassword = this.setPassword.bind(this);\n        this.finalcallfunction = this.finalcallfunction.bind(this);\n    }\n    setEmail(value){\n        this.setState({email: value});\n    }\n    setPassword(value){\n        this.setState({password: value});\n    }\n    setUsername(value){\n        this.setState({username: value});\n    }\n    validateForm() {\n        return this.state.email.length > 0 && this.state.username.length > 0 && this.state.password.length >0;\n      }\n    handleSubmit(e){\n        e.preventDefault();\n        var emailformat = /[a-z0-9]+@codingmart.com/;\n        var passwordformat = /[a-z0-9_]{6,}/;\n        if (emailformat.test(this.state.email)){\n            if(passwordformat.test(this.state.password)){\n                this.setState({\n                    emailerr:'',\n                    passworderr:''\n                });\n                this.finalcallfunction();\n            }\n            else{\n                this.setState({\n                    password:''\n                });\n                this.setState({\n                    passworderr:'Password must be atleast 6 characters!'\n                });\n            }\n        }\n        else{\n            this.setState({\n                email:''\n            });\n            this.setState({\n                emailerr:'Please enter a valid email!'\n            });\n        }\n    }\n    finalcallfunction(){\n        const user = {\n            \"username\": this.state.username,\n            \"email\":this.state.email,\n            \"password\":this.state.password\n        }\n        axios.post('api/admin/signup',user)\n        .then(res => {\n            if(res.data === 'success'){\n                history.push({\n                    pathname:'/admin/home',\n                    state:{username: this.state.username}\n                })\n            }\n        });\n    }\n    render(){\n        return(\n            <div className=\"Login\">\n                <h3>Sign up</h3>\n                <form onSubmit={this.handleSubmit}>\n                   <FormGroup controlId=\"username\" bsSize=\"large\">\n                    <ControlLabel>Username</ControlLabel>\n                    <FormControl\n                        autoFocus\n                        type=\"text\"\n                        value={this.state.username}\n                        onChange={e =>this.setUsername(e.target.value)}\n                        \n                    />\n                    </FormGroup>\n                    <FormGroup controlId=\"email\" bsSize=\"large\">\n                    <ControlLabel>Email</ControlLabel>\n                    <FormControl\n                        type=\"email\"\n                        value={this.state.email}\n                        onChange={e =>this.setEmail(e.target.value)}\n                    />\n                    <HelpBlock>\n                    <p className=\"text-danger\">{this.state.emailerr}</p>\n                    </HelpBlock>\n                    </FormGroup>\n                    <FormGroup controlId=\"password\" bsSize=\"large\">\n                    <ControlLabel>Password</ControlLabel>\n                    <FormControl\n                        value={this.state.password}\n                        onChange={e => this.setPassword(e.target.value)}\n                        type=\"password\"\n                    />\n                    <HelpBlock>\n                    <p className=\"text-danger\">{this.state.passworderr}</p>\n                    </HelpBlock>\n                    </FormGroup>\n                    <div className=\"signup\">\n                    <Button id=\"login-button\"  bsSize=\"small\" disabled={!this.validateForm()} type=\"submit\">\n                    Sign up\n                    </Button><br/>\n                    <Link to=\"/admin\">Already a user? Log in!</Link>\n                    </div>\n                </form>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}