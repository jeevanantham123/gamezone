{"ast":null,"code":"import _classCallCheck from\"/home/system1/Documents/React/deploy/server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/system1/Documents/React/deploy/server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/system1/Documents/React/deploy/server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/system1/Documents/React/deploy/server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/system1/Documents/React/deploy/server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'../css/gamescreen.css';import{Button}from'react-bootstrap';import history from'../history';import{Banner}from'./userhome';import backspace from'../images/wrong@3x.png';import{CountdownCircleTimer}from'react-countdown-circle-timer';import Timer from'react-compound-timer';import{FaReply}from'react-icons/fa';import Tick from'../images/correct@3x.png';import quit from'../images/quit-emoji@3x.png';var GameScreen=/*#__PURE__*/function(_Component){_inherits(GameScreen,_Component);var _super=_createSuper(GameScreen);function GameScreen(props){var _this;_classCallCheck(this,GameScreen);_this=_super.call(this,props);_this.state={timer:true,game:_this.props.location.state.game,id:0,counterText:'game-counter'};_this.handleBackSpace=_this.handleBackSpace.bind(_assertThisInitialized(_this));_this.handleAnswered=_this.handleAnswered.bind(_assertThisInitialized(_this));_this.handleQuitGame=_this.handleQuitGame.bind(_assertThisInitialized(_this));_this.handleConfrimQuit=_this.handleConfrimQuit.bind(_assertThisInitialized(_this));_this.handleCancelQuit=_this.handleCancelQuit.bind(_assertThisInitialized(_this));return _this;}_createClass(GameScreen,[{key:\"handleBackSpace\",value:function handleBackSpace(e){e.preventDefault();var confirmDiv=document.getElementById('confirm-quit');confirmDiv.style.display='initial';var innerDiv=document.getElementById('inner-gameScreen');innerDiv.style.display='none';}},{key:\"handleAnswered\",value:function handleAnswered(e){if(this.state.id+1<this.state.game.questions.length){var currentQ=this.state.id;currentQ++;this.setState({id:currentQ,counterText:'question-counter',timer:true});this.componentDidMount();}else if(this.state.id+1===this.state.game.questions.length){history.push({pathname:'/winner',state:{'winner':true,gname:this.state.game.gameName}});}}},{key:\"handleQuitGame\",value:function handleQuitGame(e){e.preventDefault();this.props.history.goBack();}},{key:\"handleConfrimQuit\",value:function handleConfrimQuit(e){e.preventDefault();window.location.href=\"/\";}},{key:\"handleCancelQuit\",value:function handleCancelQuit(e){var confirmDiv=document.getElementById('confirm-quit');confirmDiv.style.display='none';var innerDiv=document.getElementById('inner-gameScreen');innerDiv.style.display='inline-block';}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;setTimeout(function(){_this2.setState({timer:false});},5000);}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"gameScreen\"},this.state.timer?/*#__PURE__*/React.createElement(\"div\",{className:\"white-screen\"},/*#__PURE__*/React.createElement(\"div\",{className:\"inner-counter\"},/*#__PURE__*/React.createElement(RoundCountdown,{text:this.state.counterText,quitgame:this.handleQuitGame}))):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Banner,null),/*#__PURE__*/React.createElement(\"div\",{id:\"confirm-quit\"},/*#__PURE__*/React.createElement(\"img\",{src:quit,alt:\"\"}),/*#__PURE__*/React.createElement(\"br\",null),\"Are you sure?\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Button,{id:\"cq-button\",type:\"button\",onClick:this.handleConfrimQuit},\"Confirm\"),/*#__PURE__*/React.createElement(Button,{id:\"cq=cancel\",onClick:this.handleCancelQuit},\"Cancel\")),/*#__PURE__*/React.createElement(\"div\",{id:\"inner-gameScreen\",style:{background:this.state.game.gameBgColor}},/*#__PURE__*/React.createElement(\"div\",{className:\"gback-button\",onClick:this.handleBackSpace},/*#__PURE__*/React.createElement(\"img\",{src:backspace,alt:\"back\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"game-main\"},/*#__PURE__*/React.createElement(GameArea,{game:this.state.game,id:this.state.id,handleAnswered:this.handleAnswered})))));}}]);return GameScreen;}(Component);export{GameScreen as default};export function RoundCountdown(props){var text=props.text;if(text==='game-counter'){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(CountdownCircleTimer,{isPlaying:true,duration:5,colors:[[\"#D14081\"]]},function(_ref){var remainingTime=_ref.remainingTime;return/*#__PURE__*/React.createElement(\"span\",null,\"Game will Start in\",/*#__PURE__*/React.createElement(\"br\",null),remainingTime,/*#__PURE__*/React.createElement(\"br\",null),\"seconds\");}),/*#__PURE__*/React.createElement(\"button\",{id:\"quit-game\",onClick:props.quitgame,type:\"button\"},\"x\\xA0 quit game\"));}if(text==='question-counter'){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",{style:{color:\"green\"}},\"Correct Answer\"),/*#__PURE__*/React.createElement(\"img\",{id:\"tick\",src:Tick,alt:\"\"}),/*#__PURE__*/React.createElement(CountdownCircleTimer,{isPlaying:true,duration:5,colors:[[\"#D14081\"]]},function(_ref2){var remainingTime=_ref2.remainingTime;return/*#__PURE__*/React.createElement(\"span\",null,\"Next Question in\",/*#__PURE__*/React.createElement(\"br\",null),remainingTime,/*#__PURE__*/React.createElement(\"br\",null),\"seconds\");}));}}export function GameArea(props){var id=props.id;var game=props.game;return/*#__PURE__*/React.createElement(\"div\",{className:\"block\"},/*#__PURE__*/React.createElement(\"div\",{className:\"block-topper\"},/*#__PURE__*/React.createElement(\"div\",{className:\"que-num\"},\"Question \",id+1,\" of \",game.questions.length),/*#__PURE__*/React.createElement(\"div\",{className:\"question-timer\"},/*#__PURE__*/React.createElement(Timer,{initialTime:20000,direction:\"backward\"},function(){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Timer.Seconds,null),\"s left\");}))),/*#__PURE__*/React.createElement(QuestionImage,{image:game.questions[id].image}),/*#__PURE__*/React.createElement(Question,{question:game.questions[id].question}),/*#__PURE__*/React.createElement(AnswerBlock,{answer:game.questions[id].answer}),/*#__PURE__*/React.createElement(ShuffledAnswerBlock,{shuffledAnswer:game.questions[id].shuffledAnswer,answer:game.questions[id].answer,answered:props.handleAnswered,gname:game.gameName}));}export function Question(props){var question=props.question;return/*#__PURE__*/React.createElement(\"div\",{className:\"question\"},question);}export function QuestionImage(props){var questionImage=props.image;return/*#__PURE__*/React.createElement(\"div\",{className:\"questionImage\"},/*#__PURE__*/React.createElement(\"img\",{src:questionImage,alt:\"\"}));}export function AnswerBlock(props){var answer=props.answer;answer=answer.trim();var answerDivs=[];for(var index=0;index<answer.length;index++){var element=answer[index];answerDivs.push(/*#__PURE__*/React.createElement(\"input\",{type:\"text\",key:element,className:\"inner-answer-div\",readOnly:true}));}return/*#__PURE__*/React.createElement(\"div\",{className:\"answer\"},answerDivs);}export function ShuffledAnswerBlock(props){var shuffledAnswer=props.shuffledAnswer;var answerdiv=document.getElementsByClassName('answer');var clickedCount=0;shuffledAnswer=shuffledAnswer.trim();var answer=props.answer;var staus=false;var tempAnswer='';var checkTimer=setTimeout(function(){if(staus){}else{TimeOut();}},20000);var TimeOut=function TimeOut(){clearInterval(checkTimer);history.push({pathname:'/betterluck',state:{'failure':'seems like time out!','name':props.gname}});};var userClicked=function userClicked(e){if(validation()&&e.target.value!==''){var clickedChar=e.target.value;e.target.value='';answerdiv[0].childNodes[clickedCount].value=clickedChar;clickedCount++;tempAnswer=tempAnswer+clickedChar;if(tempAnswer.toLowerCase()===answer){props.answered();staus=true;clearTimeout(checkTimer);}else{if(tempAnswer.length===answer.length){if(tempAnswer.toLowerCase()!==answer){clearTimeout(checkTimer);history.push({pathname:'/betterluck',state:{'failure':'seems like wrong answer!','name':props.gname}});}}}}};var validation=function validation(){if(clickedCount<shuffledAnswer.length){return true;}else{return false;}};var deletefunc=function deletefunc(){clickedCount=0;tempAnswer='';var aElements=answerdiv[0].childNodes;var sanswerdiv=document.getElementsByClassName('sanswer');var sElements=sanswerdiv[0].childNodes;for(var index=0;index<shuffledAnswer.length;index++){var element=shuffledAnswer[index];aElements[index].value='';sElements[index].value=element.toUpperCase();}};var answerDivs=[];for(var index=0;index<shuffledAnswer.length;index++){var element=shuffledAnswer[index];answerDivs.push(/*#__PURE__*/React.createElement(\"input\",{type:\"text\",key:element,className:\"inner-sanswer-div\",value:element.toUpperCase(),onClick:function onClick(e){userClicked(e);},readOnly:true}));}return/*#__PURE__*/React.createElement(\"div\",{className:\"sanswer\"},answerDivs,/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"button\",{id:\"delete\",type:\"button\",onClick:deletefunc},\"Delete\",/*#__PURE__*/React.createElement(FaReply,null)));}","map":{"version":3,"sources":["/home/system1/Documents/React/deploy/server/client/src/components/gamescreen.js"],"names":["React","Component","Button","history","Banner","backspace","CountdownCircleTimer","Timer","FaReply","Tick","quit","GameScreen","props","state","timer","game","location","id","counterText","handleBackSpace","bind","handleAnswered","handleQuitGame","handleConfrimQuit","handleCancelQuit","e","preventDefault","confirmDiv","document","getElementById","style","display","innerDiv","questions","length","currentQ","setState","componentDidMount","push","pathname","gname","gameName","goBack","window","href","setTimeout","background","gameBgColor","RoundCountdown","text","remainingTime","quitgame","color","GameArea","image","question","answer","shuffledAnswer","Question","QuestionImage","questionImage","AnswerBlock","trim","answerDivs","index","element","ShuffledAnswerBlock","answerdiv","getElementsByClassName","clickedCount","staus","tempAnswer","checkTimer","TimeOut","clearInterval","userClicked","validation","target","value","clickedChar","childNodes","toLowerCase","answered","clearTimeout","deletefunc","aElements","sanswerdiv","sElements","toUpperCase"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport '../css/gamescreen.css';\nimport {Button} from 'react-bootstrap';\nimport history from '../history';\nimport {Banner} from './userhome';\nimport backspace from '../images/wrong@3x.png';\nimport { CountdownCircleTimer } from 'react-countdown-circle-timer'\nimport Timer from 'react-compound-timer';\nimport {FaReply} from 'react-icons/fa';\nimport Tick from '../images/correct@3x.png';\nimport quit from '../images/quit-emoji@3x.png';\nexport default class GameScreen extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            timer : true,\n            game : this.props.location.state.game,\n            id : 0,\n            counterText : 'game-counter'\n        };\n        this.handleBackSpace = this.handleBackSpace.bind(this);\n        this.handleAnswered = this.handleAnswered.bind(this);\n        this.handleQuitGame = this.handleQuitGame.bind(this);\n        this.handleConfrimQuit=this.handleConfrimQuit.bind(this);\n        this.handleCancelQuit=this.handleCancelQuit.bind(this);\n    }\n    handleBackSpace(e){\n        e.preventDefault();\n        const confirmDiv= document.getElementById('confirm-quit');\n        confirmDiv.style.display='initial';\n        const innerDiv=document.getElementById('inner-gameScreen');\n        innerDiv.style.display = 'none';\n    }\n    handleAnswered(e){\n        if((this.state.id+1) < this.state.game.questions.length){\n            var currentQ = this.state.id;\n            currentQ++;\n            this.setState({\n                id: currentQ,\n                counterText:'question-counter',\n                timer:true\n            });\n            this.componentDidMount();\n        }\n        else if((this.state.id+1) === this.state.game.questions.length){\n            history.push({\n                pathname:'/winner',\n                state : {'winner' : true , gname: this.state.game.gameName}\n            })\n        }\n    }\n    handleQuitGame(e){\n        e.preventDefault();\n        this.props.history.goBack();\n    }\n    handleConfrimQuit(e){\n        e.preventDefault();\n        window.location.href = \"/\";\n    }\n    handleCancelQuit(e){\n        const confirmDiv= document.getElementById('confirm-quit');\n        confirmDiv.style.display='none';\n        const innerDiv=document.getElementById('inner-gameScreen');\n        innerDiv.style.display = 'inline-block';\n    }\n    componentDidMount(){\n        setTimeout(() => {\n            this.setState({\n                timer : false\n            });\n        }, 5000);\n    }\n    render() {\n        return (\n            <div className=\"gameScreen\">\n                {this.state.timer ? \n                    <div className=\"white-screen\">\n                        <div className=\"inner-counter\" >\n                        <RoundCountdown text={this.state.counterText} quitgame={this.handleQuitGame}/> \n                        </div>\n                    </div>\n                    :\n                    <div>\n                    <Banner/>\n                    <div id=\"confirm-quit\">\n                        <img src={quit} alt=\"\"/>\n                        <br/>\n                        Are you sure?\n                        <br/>\n                        <Button id=\"cq-button\" type=\"button\" onClick={this.handleConfrimQuit}>Confirm</Button>\n                        <Button id=\"cq=cancel\" onClick={this.handleCancelQuit}>Cancel</Button>\n                    </div>\n                    <div id=\"inner-gameScreen\" style={{background:this.state.game.gameBgColor}}>\n                    <div className=\"gback-button\" onClick={this.handleBackSpace}>\n                        <img src={backspace} alt=\"back\"/>\n                    </div>\n                    <div className=\"game-main\">\n                        <GameArea game={this.state.game} id={this.state.id} handleAnswered={this.handleAnswered}/>\n                    </div>\n                </div>\n                </div>\n                }\n            </div>\n        )\n    }\n}\n\n\nexport function RoundCountdown(props){\n    const text = props.text;\n    if(text === 'game-counter'){\n        return(\n            <div>\n                <CountdownCircleTimer\n                isPlaying\n                duration={5}\n                colors={[[\"#D14081\"]]}\n                >\n                    {({ remainingTime }) =>  <span>Game will Start in<br/>{remainingTime}<br/>seconds</span>}\n                </CountdownCircleTimer>\n                <button id=\"quit-game\" onClick={props.quitgame} type=\"button\">x&nbsp; quit game</button>\n            </div>\n            )\n    }\n    if(text === 'question-counter'){\n        return(\n            <div>\n                <p style={{color:\"green\"}}>Correct Answer</p>\n                <img id=\"tick\" src={Tick} alt=\"\"/>\n                <CountdownCircleTimer\n                isPlaying\n                duration={5}\n                colors={[[\"#D14081\"]]}\n                >\n                    {({ remainingTime }) =>  <span>Next Question in<br/>{remainingTime}<br/>seconds</span>}\n                </CountdownCircleTimer>\n            </div>\n            )\n    }\n    \n}\n\n\n\nexport function GameArea(props){ \n    const id= props.id;\n    const game = props.game;\n    return(\n        <div className=\"block\">\n            <div className=\"block-topper\">\n               <div className=\"que-num\">\n               Question {id+1} of {game.questions.length}\n               </div> \n            <div className=\"question-timer\">\n                <Timer\n                  initialTime={20000}\n                  direction=\"backward\"  \n                >\n                    {() => (\n                        <React.Fragment>\n                            <Timer.Seconds />s left\n                        </React.Fragment>\n                    )}\n                </Timer>\n            </div>\n            </div>\n            <QuestionImage image={game.questions[id].image}/>\n            <Question question={game.questions[id].question}/>\n            <AnswerBlock answer={game.questions[id].answer} />\n            <ShuffledAnswerBlock shuffledAnswer={game.questions[id].shuffledAnswer} answer={game.questions[id].answer} answered={props.handleAnswered} gname={game.gameName}/>\n        </div>\n    )\n}\n\nexport function Question(props){\n    const question = props.question;\n    return(\n        <div className=\"question\">\n            {question}\n        </div>\n    )\n} \n\nexport function QuestionImage(props){\n    const questionImage = props.image;\n    return(\n        <div className=\"questionImage\">\n            <img src={questionImage} alt=\"\"/>\n        </div>\n    )\n}\n\nexport function AnswerBlock(props){\n    var answer = props.answer;\n    answer = answer.trim();\n    const answerDivs = [];\n    for (let index = 0; index < answer.length; index++) {\n        const element = answer[index];\n        answerDivs.push(\n            <input type=\"text\" key={element} className=\"inner-answer-div\" readOnly/>\n        );\n        \n    } \n    return(\n        <div className=\"answer\">\n            {answerDivs}\n        </div>\n    )\n}\n\n\nexport function ShuffledAnswerBlock(props){\n    \n    var shuffledAnswer = props.shuffledAnswer;\n    const answerdiv = document.getElementsByClassName('answer');\n    var clickedCount = 0;\n    shuffledAnswer = shuffledAnswer.trim();\n    const answer = props.answer;\n    var staus = false;\n    var tempAnswer = '';\n    var checkTimer= setTimeout(() => {\n        if(staus){\n        }\n        else{\n           TimeOut();\n        }\n    }, 20000);\n    const TimeOut = () => {\n        clearInterval(checkTimer);\n           history.push({\n                pathname:'/betterluck',\n                state : {'failure' : 'seems like time out!','name':props.gname}\n        });\n    }\n    const userClicked = (e) => {\n        if(validation() && e.target.value !== ''){\n            var clickedChar = e.target.value;\n            e.target.value = '';\n            answerdiv[0].childNodes[clickedCount].value = clickedChar;\n            clickedCount++;\n            tempAnswer = tempAnswer + clickedChar;\n            if(tempAnswer.toLowerCase() === answer){\n                props.answered();\n                staus = true;\n                clearTimeout(checkTimer);\n            }\n            else{   \n                if(tempAnswer.length === answer.length){\n                    if(tempAnswer.toLowerCase() !== answer){\n                        clearTimeout(checkTimer);\n                        history.push({\n                            pathname:'/betterluck',\n                            state : {'failure' : 'seems like wrong answer!' ,'name':props.gname}\n                        });\n                    }\n                }\n            }\n        }\n    }\n    \n    const validation = () => {\n        if(clickedCount < shuffledAnswer.length){\n            return true\n        }\n        else{\n            return false\n        }\n    }\n    const deletefunc = () => {\n        clickedCount = 0;\n        tempAnswer = '';\n        const aElements = answerdiv[0].childNodes;\n        const sanswerdiv = document.getElementsByClassName('sanswer');\n        const sElements = sanswerdiv[0].childNodes;\n        for (let index = 0; index < shuffledAnswer.length; index++) {\n            const element = shuffledAnswer[index];\n            aElements[index].value = '';\n            sElements[index].value = element.toUpperCase();\n        } \n    }\n    const answerDivs = [];\n    for (let index = 0; index < shuffledAnswer.length; index++) {\n        const element = shuffledAnswer[index];\n        answerDivs.push(\n            <input type=\"text\"  key={element} className=\"inner-sanswer-div\" value={element.toUpperCase()}\n            onClick={(e) => {userClicked(e)}}  readOnly />\n        );\n        \n    } \n    return(\n        <div className=\"sanswer\">\n            {answerDivs}\n            <br/>\n            <button id=\"delete\"  type=\"button\"  onClick={deletefunc}>Delete<FaReply/></button>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}